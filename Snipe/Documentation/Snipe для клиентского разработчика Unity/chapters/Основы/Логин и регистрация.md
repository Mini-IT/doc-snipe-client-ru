#miniit #snipe #login

После установки соединения нужно авторизоваться на сервере. Данная процедура выполняется автоматически и не требует вмешательства программиста. Процесс описан просто для общего понимания.

При обычном поведении авторизация происходит по внутреннему идентификатору (не путать с `id` пользователя), который хранится в `PlayerPrefs`. Однако при первом запуске приложения (а также при переустановке и чистке данных) приложение не знает, имеется ли у пользователя аккаунт. Поэтому на сервер отправляется запрос `auth.registerAndLogin`, в котором передаются `DeviceID` и `AdvertisingID` (если доступен). Сервер проверяет, имеются ли в базе данных аккаунты с указанными `id`-ами. Если нет - регистрирует новый аккаунт и автоматически привязывает к нему указанные `id`-ы. В любом случае в ответ клиенту приходит внутренний идентификатор, который сохраняется в `PlayerPrefs` для авторизации в последующие сессии.

Логин возвращает уникальный ID сессии игрока. Этот ID пишется в аналитику и серверные логи. При его наличии можно быстро запросить серверные логи конкретной сессии.

## Дополнительные параметры логина

Иногда в запрос на логин требуется передать дополнительные параметры. Задать их можно через `SnipeConfig.LoginParameters` .