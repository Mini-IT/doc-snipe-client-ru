#miniit #snipe 

В клиентском коде вся работа со Снайпом осуществляется через `SnipeContext`.

Обычно приложение содержит только один контекст, который обслуживает соединение с сервером. Хотя, теоретически, контекстов может быть и больше, но в нашей практике этого никогда не требовалось.

## Как получить контекст

После скачивания [SnipeApi](SnipeApi.md), получить ссылку на контекст по умолчанию можно через статическое свойство
`SnipeApiContext.Default`

Если контекст, ещё не был создан, то при обращении к данному свойству, он будет автоматически создан.

Однако, бывают случаи, когда какое-то действие должно быть выполнено только если контекст уже существует, а создавать новый контекст не нужно. В этом случае можно воспользоваться статическим методом

`SnipeApiContext.GetInstance(string id, bool initialize)`

## Что внутри

Контекст содержит:

- `Config` - см. [Snipe Config (TODO)](Snipe%20Config%20(TODO).md)
- `Communicator` - подсистема, отвечающая за соединение с сервером и обмен сообщениями
- `Api` - см. [SnipeApi](SnipeApi.md)
- `Auth` - подсистема авторизации, отвечает за
    - [Логин и регистрация](Логин%20и%20регистрация.md)
    - [Привязки аккаунтов (Binding)](Привязки%20аккаунтов%20(Binding).md)
- `BadgesManager` - вспомогательный инструмент для работы с ачивками (см. [Badges Achievements (TODO)](Badges%20Achievements%20(TODO).md) )
- `CalendarManager` - вспомогательный инструмент для работы с календарными событиями (см. [Календарные события (TODO)](Календарные%20события%20(TODO).md) )
- `LogicManager` - вспомогательный инструмент для работы с Логикой (см. [Серверная “логика”](Серверная%20“логика”.md))
- `Tables` - доступ к данным серверных таблиц (см. [Серверные таблицы](Серверные%20таблицы.md))
- `LogReporter` - инструмент для отправки клиентских логов в Графану (см. [Отправка киентских логов в Grafana (TODO)](Отправка%20киентских%20логов%20в%20Grafana%20(TODO).md), [Серверные логи (Grafana)](Серверные%20логи%20(Grafana).md))